<!DOCTYPE html>
<html>
    <head>
        <title>Rasvaprotsent</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script>
            let xhr = new XMLHttpRequest();
            xhr.onreadystatechange = kuvaVastus;
            
            function sisestaArvud() {
                const kaal = document.getElementById("kast1").value;
                const pikk = document.getElementById("kast2").value;
                const vanus = document.getElementById("kast3").value;
                const sugu = document.getElementById("kast4").value;
                const aadress = "/bodyf?kehakaal="+kaal+"&pikkus="+pikk+"&age="+vanus+"&sugu="+sugu;
                xhr.open("GET", aadress, true);
                xhr.send();
            }
            
            function kuvaVastus() {
                if (xhr.readyState === 4) {
                    document.getElementById("vastus").innerHTML = xhr.responseText;
                }
            }
        </script>
    </head>
    <body>
        <div>See rakendus arvutab su keha rasvaprotsendi</div>
        <div>
            <form>
                <label> Kehakaal: </label>
                <input type="number" id="kast1"><br>
                <label> Pikkus: </label>
                <input type="number" id="kast2"><br>
                <label> Vanus: </label>
                <input type="number" id="kast3"><br>
                <label> Sugu: </label>
                <select name="gender" id="kast4">
                    <option value="1"> Mees </option>
                    <option value="0"> Naine </option>
                </select><br>
                <input type = "button" value= "Arvuta" onclick = "sisestaArvud()"/><br>
            </form>
        </div>
        <div style="font-size:30px;" id = "vastus"></div>
        <div style="margin-top: 20px;" id = "tabel">
                    <table border= "1" style="border-collapse:collapse;">
                        <tr>
                            <th>Description</th>
                            <th>Women</th>
                            <th>Men</th>
                        </tr>
                        <tr>
                            <td>Essential fat</td>
                            <td>10-15%</td>
                            <td>0-5%</td>
                        </tr>
                        <tr>
                            <td>Very lean</td>
                            <td>15-20%</td>
                            <td>5-15%</td>
                        </tr>
                        <tr>
                            <td>Lean</td>
                            <td>20-25%</td>
                            <td>15%</td>
                        </tr>
                        <tr>
                            <td>Normal</td>
                            <td>25-30%</td>
                            <td>20%</td>
                        </tr>
                        <tr>
                            <td>Overweight</td>
                            <td>30-40%</td>
                            <td>25-30%</td>
                        </tr>
                        <tr>
                            <td>Obese</td>
                            <td>40% or more</td>
                            <td>30% or more</td>
                        </tr>
                        </table>
        </div>
    </body>
</html>
